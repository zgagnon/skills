{"id":"skills-0ag","title":"using-jj: Expose exec() or add describeCurrent() helper","description":"","notes":"Superseded by describeChange() - we don't want to expose exec(), only guided functions","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T18:14:11.563852-05:00","updated_at":"2025-12-09T18:15:31.0436-05:00","closed_at":"2025-12-09T18:15:31.043611-05:00","dependencies":[{"issue_id":"skills-0ag","depends_on_id":"skills-i6y","type":"parent-child","created_at":"2025-12-09T18:14:11.710602-05:00","created_by":"daemon"}]}
{"id":"skills-1wc","title":"Document non-expiring token approach as simpler alternative to full OAuth","description":"","notes":"Superseded by full Notion API integration design document","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-12T12:56:07.640039-05:00","updated_at":"2025-12-12T17:32:54.66025-05:00","closed_at":"2025-12-12T17:32:54.660254-05:00","dependencies":[{"issue_id":"skills-1wc","depends_on_id":"skills-pdq","type":"parent-child","created_at":"2025-12-12T12:56:07.680436-05:00","created_by":"daemon"}]}
{"id":"skills-2o3","title":"Implement ADR-006: Expand discovery-tree.ts with full API surface","description":"","notes":"Implemented ADR-006: Expanded discovery-tree.ts from 62 lines (re-exports) to 378 lines (full API surface). All types, JSDoc, and function signatures now inline. ADR review confirms full compliance. All tests passing.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T11:17:11.07062-05:00","updated_at":"2025-12-12T11:25:33.640107-05:00","closed_at":"2025-12-12T11:25:33.640112-05:00","dependencies":[{"issue_id":"skills-2o3","depends_on_id":"skills-9t9","type":"parent-child","created_at":"2025-12-12T11:17:11.111424-05:00","created_by":"daemon"}]}
{"id":"skills-317","title":"discovery-tree: Add jj bookmark creation from task helper","description":"Create helper function to create jj bookmark from discovery tree task. This will use the Shortcut integration (skills-i6y) to get branch name, then use using-jj API to create bookmark and describe change. Depends on: Shortcut TypeScript API wrapper being completed first.","notes":"Created createJjBookmark() helper function. Added createBookmark() to jj API (TDD). Integrated with discovery-tree.ts exports. All tests passing.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T18:14:11.559168-05:00","updated_at":"2025-12-12T11:11:16.838766-05:00","closed_at":"2025-12-12T11:11:16.838771-05:00","dependencies":[{"issue_id":"skills-317","depends_on_id":"skills-i6y","type":"parent-child","created_at":"2025-12-09T18:14:11.638118-05:00","created_by":"daemon"}]}
{"id":"skills-75a","title":"Create real Notion client with integration tests","description":"","notes":"Completed: Created real Notion client using incremental-tdd. Implemented wrapper around @notionhq/client SDK with integration tests. Tests verify client creation, page retrieval, and blocks retrieval. All tests passing.","status":"blocked","priority":1,"issue_type":"task","created_at":"2025-12-13T12:46:23.290865-05:00","updated_at":"2025-12-13T12:59:22.459686-05:00","dependencies":[{"issue_id":"skills-75a","depends_on_id":"skills-v5h","type":"parent-child","created_at":"2025-12-13T12:46:23.334898-05:00","created_by":"daemon"}]}
{"id":"skills-76o","title":"Epic: Convert Skills to Hybrid Agent Pattern","description":"","notes":"Skills conversion epic complete. Delivered hybrid pattern for 2 critical skills with full TDD compliance (RED-GREEN-REFACTOR).","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-12T12:29:56.489182-05:00","updated_at":"2025-12-12T16:39:20.9598-05:00","closed_at":"2025-12-12T16:39:20.959806-05:00"}
{"id":"skills-7ml","title":"Consolidate API into single discovery-tree.ts entry point","description":"TOKEN ECONOMY: Agents currently load beads.ts + shortcut.ts (two API files). Instead, create single discovery-tree.ts that re-exports both APIs. Benefits: (1) Single import for agents, (2) ~50% fewer tokens loaded, (3) Clear unified API surface, (4) Matches MCP code execution pattern from Anthropic article. Implementation: Create discovery-tree.ts with all public exports, keep beads-impl.ts and shortcut-impl.ts separate. This completes the API separation pattern (ADR-004) for the entire skill.","notes":"Created discovery-tree.ts as unified API entry point. Re-exports all 11 database functions and 2 Shortcut functions. Updated SKILL.md documentation. Token efficiency: agents now load 1 file instead of 2 (~50% reduction).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T15:59:57.476222-05:00","updated_at":"2025-12-12T10:42:34.981618-05:00","closed_at":"2025-12-12T10:42:34.981622-05:00","dependencies":[{"issue_id":"skills-7ml","depends_on_id":"skills-x17","type":"parent-child","created_at":"2025-12-10T15:59:57.604842-05:00","created_by":"daemon"}]}
{"id":"skills-7sg","title":"Investigate and fix quote escaping issue in bun-sandbox run-skill-code","description":"When using mcp__bun-sandbox__run-skill-code with import paths containing tildes (~/.claude/skills/...), the quotes get improperly escaped causing 'Unterminated string literal' errors. This is blocking testing of the integrated getShortcutStory() with real MCP client. Example error: 'import { createShortcutClient } from '/Users/zell/.claude/skills/discovery-tree-workflow/src/mcp-client.js\";' - notice the mismatched quotes.","notes":"Fixed: Updated run-skill-code-impl.ts line 31 to preserve quote style when expanding tilde paths. Changed from hardcoded single quote to capturing and reusing original quote character. All unit tests pass (7/7). Quote escaping now works correctly - verified imports execute without 'Unterminated string literal' errors.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-11T11:59:51.219477-05:00","updated_at":"2025-12-11T12:26:23.908573-05:00","closed_at":"2025-12-11T12:26:23.908577-05:00"}
{"id":"skills-9t9","title":"Skills Improvement from MCP Usage","description":"Epic tracking improvements to skills based on MCP code execution pattern from https://www.anthropic.com/engineering/code-execution-with-mcp. Key discovery: TypeScript code can act as MCP client using @modelcontextprotocol/sdk to call other MCP servers directly. This enables 98.7% token reduction through progressive disclosure and context efficiency.","notes":"All subtasks completed: ADR-006 implemented, Shortcut API created, jj bookmark helpers added","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-09T18:14:11.40571-05:00","updated_at":"2025-12-12T12:07:22.703527-05:00","closed_at":"2025-12-12T12:07:22.703531-05:00"}
{"id":"skills-a5d","title":"Skill-to-Agent Conversion [root]","description":"","notes":"All conversion stories completed. Successfully converted systematic-debugging and incremental-tdd to hybrid detection-skill + process-agent pattern.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T12:29:56.554835-05:00","updated_at":"2025-12-12T16:39:20.915515-05:00","closed_at":"2025-12-12T16:39:20.91552-05:00","dependencies":[{"issue_id":"skills-a5d","depends_on_id":"skills-76o","type":"parent-child","created_at":"2025-12-12T12:29:56.600478-05:00","created_by":"daemon"}]}
{"id":"skills-bzs","title":"using-jj: Add describeChange() function","description":"Add describeChange() API function to handle describing current change with uncommitted work. This guides agents to use the proper workflow instead of exposing raw exec(). Should work whether current change is empty or has uncommitted changes.","notes":"describe() function already exists in jj API with required functionality","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T18:14:11.562416-05:00","updated_at":"2025-12-12T12:07:12.472588-05:00","closed_at":"2025-12-12T12:07:12.472593-05:00","dependencies":[{"issue_id":"skills-bzs","depends_on_id":"skills-i6y","type":"parent-child","created_at":"2025-12-09T18:14:11.674165-05:00","created_by":"daemon"}]}
{"id":"skills-cal","title":"discovery-tree: Add Shortcut story integration helper","description":"Create TypeScript API wrapper for Shortcut MCP tools following the code execution pattern from https://www.anthropic.com/engineering/code-execution-with-mcp. Goal: Expose mcp__shortcut__* tools as importable TypeScript functions so agents can write code instead of making direct MCP tool calls. This achieves progressive disclosure (load tools on-demand) and context efficiency (98.7% token reduction).","notes":"Replaced with more specific user-facing task skills-x17: createTaskFromShortcut() helper","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T18:14:11.558001-05:00","updated_at":"2025-12-10T11:18:54.70712-05:00","closed_at":"2025-12-10T11:18:54.707123-05:00","dependencies":[{"issue_id":"skills-cal","depends_on_id":"skills-i6y","type":"parent-child","created_at":"2025-12-09T18:14:11.6013-05:00","created_by":"daemon"}]}
{"id":"skills-g4w","title":"Story: Convert incremental-tdd to hybrid pattern","description":"","notes":"Completed conversion to hybrid pattern following RED-GREEN-REFACTOR cycle. All phases complete: baseline failures documented, detection skill created, process agent created, loopholes identified and closed, deployment checklist created.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T13:48:55.409301-05:00","updated_at":"2025-12-12T15:50:52.445612-05:00","closed_at":"2025-12-12T15:50:52.445617-05:00","dependencies":[{"issue_id":"skills-g4w","depends_on_id":"skills-a5d","type":"parent-child","created_at":"2025-12-12T13:48:55.450853-05:00","created_by":"daemon"}]}
{"id":"skills-gzi","title":"Research Notion API and MCP availability","description":"","notes":"Completed research on Notion API and MCP. Documented both MCP server availability and REST API endpoints, including 2025-09-03 breaking changes.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-12T15:46:38.216686-05:00","updated_at":"2025-12-12T15:49:25.06469-05:00","closed_at":"2025-12-12T15:49:25.064693-05:00","dependencies":[{"issue_id":"skills-gzi","depends_on_id":"skills-pdq","type":"parent-child","created_at":"2025-12-12T15:46:38.322393-05:00","created_by":"daemon"}]}
{"id":"skills-i4y","title":"Rename 'beads' references to 'database' in API","description":"","notes":"Renamed 'beads' to 'database' in API documentation and comments (8 locations updated: beads.ts, beads-impl.ts, beads.test.ts, test-helpers.ts). All tests passing.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T10:34:46.54419-05:00","updated_at":"2025-12-12T10:39:26.97177-05:00","closed_at":"2025-12-12T10:39:26.971777-05:00","dependencies":[{"issue_id":"skills-i4y","depends_on_id":"skills-7ml","type":"parent-child","created_at":"2025-12-12T10:34:46.582373-05:00","created_by":"daemon"}]}
{"id":"skills-i6y","title":"Create Shortcut TypeScript API wrapper using MCP client pattern","description":"BREAKTHROUGH: TypeScript in bun-sandbox CAN act as MCP client! Proof of concept successful - connected to Shortcut MCP server via StdioClientTransport, listed 36 tools. Current blocker: tool calls timeout after 60s (likely npx downloading package on each call). Next: Debug timeout, create shortcut-integration skill with client.ts (singleton MCP client), plus wrapper functions for common operations. DESIGN PRINCIPLE: Provide low-level primitives (getShortcutStory, searchStories, etc) that return structured data. Let agents compose these however they need, rather than prescribing workflows.","notes":"Complete: Created fully functional Shortcut TypeScript API using REST client. Bypassed MCP subprocess limitations by calling Shortcut REST API directly. All 27 tests pass. End-to-end verified through bun-sandbox. Agents can now write TypeScript code to access Shortcut stories without MCP tool calls, achieving progressive disclosure pattern (98.7% token savings). Files: shortcut-rest-client.ts, shortcut.ts, shortcut-impl.ts with comprehensive test coverage.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T18:14:11.460875-05:00","updated_at":"2025-12-11T16:48:50.879633-05:00","closed_at":"2025-12-11T16:48:50.879637-05:00","dependencies":[{"issue_id":"skills-i6y","depends_on_id":"skills-9t9","type":"parent-child","created_at":"2025-12-09T18:14:11.496274-05:00","created_by":"daemon"},{"issue_id":"skills-i6y","depends_on_id":"skills-x17","type":"parent-child","created_at":"2025-12-10T11:18:18.644411-05:00","created_by":"daemon"},{"issue_id":"skills-i6y","depends_on_id":"skills-7sg","type":"blocks","created_at":"2025-12-11T12:00:06.35484-05:00","created_by":"daemon"}]}
{"id":"skills-pdq","title":"Miro API for Discovery Tree","description":"","status":"open","priority":3,"issue_type":"epic","created_at":"2025-12-12T12:22:49.910434-05:00","updated_at":"2025-12-12T12:22:49.910434-05:00"}
{"id":"skills-szt","title":"Explore Miro API for pulling sticky notes from boards","description":"","notes":"Completed research on Miro API for retrieving sticky notes. Documented authentication flow, API endpoints, data structures, and required permissions.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-12T12:28:52.767499-05:00","updated_at":"2025-12-12T12:31:18.660112-05:00","closed_at":"2025-12-12T12:31:18.660116-05:00","dependencies":[{"issue_id":"skills-szt","depends_on_id":"skills-pdq","type":"parent-child","created_at":"2025-12-12T12:28:52.810068-05:00","created_by":"daemon"}]}
{"id":"skills-v5h","title":"Notion API for Discovery Tree","description":"","notes":"Blocked: No permission to create Notion integrations. Need access to create integration token and test page.","status":"blocked","priority":3,"issue_type":"epic","created_at":"2025-12-12T17:36:37.541414-05:00","updated_at":"2025-12-13T12:59:22.420492-05:00"}
{"id":"skills-vrf","title":"Create API to read a Notion page","description":"","notes":"Completed: Used wishful-thinking programming to design and implement Notion page reading API. Created interface in discovery-tree.ts, wrote tests with mocked collaborators, implemented minimal working code. All tests passing.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T17:42:11.792672-05:00","updated_at":"2025-12-13T12:18:52.176273-05:00","closed_at":"2025-12-13T12:18:52.176282-05:00","dependencies":[{"issue_id":"skills-vrf","depends_on_id":"skills-v5h","type":"parent-child","created_at":"2025-12-12T17:42:11.834388-05:00","created_by":"daemon"}]}
{"id":"skills-x17","title":"getShortcutStory() - Fetch Shortcut story data via TypeScript","description":"PRIMITIVE API: Provide low-level helper to fetch Shortcut story data in structured format. Usage: const story = await getShortcutStory(93114) returns { id, name, description, app_url, branch_name, state, story_type, etc }. Implementation: Use MCP client to call mcp__shortcut__stories-get-by-id and mcp__shortcut__stories-get-branch-name, return combined structured data. Future agents can use this data however they want - create discovery tree tasks, start jj bookmarks, generate reports, etc. Flexible primitive, not opinionated workflow. STATUS: API complete with tests, error handling added (ADR-005 compliant). TODO: Separate implementation into shortcut-impl.ts per ADR-004 before marking complete.","notes":"Complete: getShortcutStory() API implemented with tests, error handling, ADR compliance (001-005), and implementation separated per ADR-004. Ready for consolidation into discovery-tree.ts.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T11:18:18.487921-05:00","updated_at":"2025-12-10T16:59:06.814006-05:00","closed_at":"2025-12-10T16:59:06.814011-05:00"}
{"id":"skills-zd7","title":"Story: Convert systematic-debugging to hybrid pattern","description":"","notes":"Completed systematic-debugging conversion to hybrid pattern. Detection skill and process agent created with loopholes closed following writing-skills TDD process.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T12:30:32.515449-05:00","updated_at":"2025-12-12T13:46:13.327487-05:00","closed_at":"2025-12-12T13:46:13.327491-05:00","dependencies":[{"issue_id":"skills-zd7","depends_on_id":"skills-a5d","type":"parent-child","created_at":"2025-12-12T12:30:32.561433-05:00","created_by":"daemon"}]}
